version: 1
task_definition:
  task_execution_role: secretsTaskExecutionRole
  services:
    playground-austin-spa: 
      mem_reservation: $ECS_MEM_RESERVATION
      mem_limit: $ECS_MEM_LIMIT
      repository_credentials:
        credentials_parameter: $AWS_DOCKER_REGISTRY_SECRET
      healthcheck:
        test: [ "CMD-SHELL", "curl -f http://localhost:8080/favicon.ico || exit 1" ]
        interval: 30s
        timeout: 30s
        retries: 3
        start_period: 60s
